---
import type { ImageStrapi } from "@/types"
import { getInfoFromImg } from "@/hooks"
import { Image } from 'astro:assets'
import Container from "./Container"

interface Props {
 titulo: string 
 barra: ImageStrapi
 texto: string
 barraMobil: ImageStrapi
}

const {titulo, barra, texto, barraMobil} = Astro.props

const barraImg = getInfoFromImg(barra)
const barraTiny = getInfoFromImg(barraMobil)
---

<Container client:visible>
 <h2 class="title">{titulo}</h2>
 <Image class="img md:hidden" inferSize format='webp' src={barraTiny.url} alt={barraTiny.alt ? barraTiny.alt : ''}></Image>
 <Image class="hidden md:block img" inferSize format='webp' src={barraImg.url} alt={barraImg.alt ? barraImg.alt : ''}></Image>
 <p>{texto}</p>
</Container>

<style is:global>
 .bms {
  @apply w-[90%] flex flex-col px-2 text-center md:text-left md:flex-row gap-2 py-2 my-8 md:gap-3 mx-auto justify-center items-center max-w-[1400px] max-h-60;
  opacity: 0;
  transform: translateX(-100%);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
 }

 .bms.visible {
  opacity: 1;
  transform: translateX(0);
 }
 .bms .title {
  @apply font-black text-2xl md:text-8xl;
 }
 .bms .img {
  @apply w-[90%] md:w-auto md:h-36;
 }
 .bms p {
  @apply text-sm md:text-2xl font-light;
 }
</style>

